<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Opdracht sessions gevorderd</title>
        <link rel="stylesheet" href="http://web-backend.local/css/global.css">
        <link rel="stylesheet" href="http://web-backend.local/css/facade.css">
    </head>
    <body class="web-backend-opdracht">
    
    <section class="body">
        <h1>Opdracht sessions gevorderd</h1>

        <ul>
            <li>
                Maak een winkelrek met producten zodat je deze kan toevoegen aan je winkelmandje. In dit winkelmandje is het mogelijk de aantallen aan te passen met + of - en het product volledig te verwijderen. Het ziet er ongeveer als volgt uit:

                <div class="facade-minimal" data-url="http://www.app.local/index.php">
                    
                    <section class="cf">
                        <section class="winkelrek">
                            <h2>Winkelrek</h2>
                            <p>Klik op een product om het aan het winkelmandje toe te voegen</p>
                            <form>
                                <ul>
                                    <li><button>Tros bananen</button></li>
                                    <li><button>Appelsienen</button></li>
                                    <li><button>Koffie</button></li>
                                    <li><button>Melk</button></li>
                                </ul>
                            </form>
                        </section>
                        
                        <section class="winkelmandje">
                            
                            <h2>Winkelmandje</h2>
                        
                                <h3>producten</h3>

                                    <form >
                                        <ul>
                                            <li><button>x</button> appelsienen <button>-</button> (2) <button>+</button></li>
                                            <li><button>x</button> melk <button>-</button> (1) <button>+</button></li>
                                       </ul>
                                    </form>
                                
                        </section>
                    </section>
                
                    <hr>    
                        <a href="oplossing-cookies-gevorderd-deel1.php?session=destroy">Verlaat de winkel</a>
                    <hr>

                   
                </div>
            </li>
            
            <li>Wanneer je deze pagina verlaat (zonder je browser je sluiten) en ze daarna weer bezoekt, is het de bedoeling dat de producten die je daarvoor had toegevoegd, weer tevoorschijn komen. Je zult dus gebruik moeten maken van de <code>$_SESSION</code> variabele.</li>
            
        </ul>

        <h1>Het winkelrek</h1>

        <ul>
            <li>Werk eerst het winkelrek uit. Dit is een lijst met producten die in een formulier staan. Dit formulier maakt gebruik van de <code>method="post"</code> omdat er data wordt toegevoegd.</li>

            <li>De knoppen hebben allemaal dezelfde name: <code>add</code>, de value is de naam van het artikel in URI-vriendelijk formaat, dus geen spaties, enkel a-zA-Z0-9 en koppeltekens. De tekstwaarde mag eender welke tekst bevatten</li>

            <li>Wanneer je op de knop drukt, wordt deze knop doorgestuurd en wordt de waarde aan de <code>$_SESSION['producten']</code> array toegevoegd.
                <ul>
                    <li>Gebruik als key de value van de <code>$_POST['add']</code></li>
                    <li>Als value controleer je of deze key al in de <code>$_SESSION['producten']</code> voorkomt.</li>
                    <li>Als dit niet zo is, zet je de value van deze key op <code>1</code></li>
                    <li>Als dit wel zo is, voeg je ééntje toe bij de value van deze key</li>
                </ul>
            </li> 

            
         </ul>

         <h1>Het winkelmandje</h1>

         <ul>
             <li>Haal de artikels uit de <code>$_SESSION['producten']</code> array.</li>
             <li>Per artikel voeg je de volgende knoppen toe: verwijder, + en -</li>
             <li>De knoppen:
                <ul>
                    <li>Verwijderen
                        <ul>
                            <li>Deze heeft als naam <code>delete</code> en als value de URI-vriendelijke naam van het product</li>
                            <li>Controleer in het script of de <code>$_POST['delete']</code> geset is, als dit zo is mag deze key uit de <code>$_SESSION['producten']</code> verwijderd worden. <span class="tip">Kan het best door middel van <code>unset()</code></span></li>
                        </ul>
                    </li>
                    <li>-
                        <ul>
                            <li>Deze heeft als naam <code>subtract</code> en als value de URI-vriendelijke naam van het product</li>
                            <li>Controleer in het script of de <code>$_POST['subtract']</code> geset is, als dit zo is mag je de waarde die bij deze key hoort in de array <code>$_SESSION['producten']</code> met één verminderen.</li>

                            <li>Als de eindwaarde dan op 0 staat, moet het product uit de <code>$_SESSION['producten']</code> verwijderd worden op dezelfde manier zoals de verwijderenknop</li>
                        </ul>
                    </li>
                    <li>+
                        <ul>
                            <li>Deze heeft als naam <code>add</code> en als value de URI-vriendelijke naam van het product</li>

                            <li>Deze steunt op de basisfunctionaliteit van het de knop in het winkelrek en zou dus zo moeten werken</li>
                        </ul>
                    </li>
                </ul>
             </li>
             <li>Maak een link "verlaat de winkel" die ervoor zorgt dat de sessie leeggemaakt wordt van zodra je hier op klikt.</li>
         </ul>
    </section>
    </body>
</html>
